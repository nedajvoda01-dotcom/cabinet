# AGENT.md  
## Supreme Guardrail for Codex

‚ö†Ô∏è **ABSOLUTE PRIORITY FILE**  
–≠—Ç–æ—Ç —Ñ–∞–π–ª –∏–º–µ–µ—Ç –Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.  
–õ—é–±–æ–π –∫–æ–¥, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–ª–∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–π –±–µ–∑ —Å–æ–±–ª—é–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞, —Å—á–∏—Ç–∞–µ—Ç—Å—è **–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º**, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ ‚Äú—Ä–∞–±–æ—Ç–∞–µ—Ç‚Äù.

---

## 1. Mandatory Reading Rules (NON-NEGOTIABLE)

### üîí Backend Rule
–ï—Å–ª–∏ —Ç—ã **–ø–∏—à–µ—à—å, –∏–∑–º–µ–Ω—è–µ—à—å –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å backend-–∫–æ–¥** (Domain / Application / Pipeline / Integrations):

> **–¢–´ –û–ë–Ø–ó–ê–ù –°–ù–ê–ß–ê–õ–ê –ü–†–û–ß–ò–¢–ê–¢–¨ `AGENT1.md`.**

- `AGENT1.md` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –∏—Å—Ç–∏–Ω—ã –¥–ª—è backend.
- –õ—é–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∞—â–µ–µ `AGENT1.md`, —è–≤–ª—è–µ—Ç—Å—è **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –æ—à–∏–±–∫–æ–π**.
- –ò—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

---

### üîí Frontend Rule
–ï—Å–ª–∏ —Ç—ã **–ø–∏—à–µ—à—å, –∏–∑–º–µ–Ω—è–µ—à—å –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å frontend-–∫–æ–¥** (UI / SPA / BFF / client):

> **–¢–´ –û–ë–Ø–ó–ê–ù –°–ù–ê–ß–ê–õ–ê –ü–†–û–ß–ò–¢–ê–¢–¨ `AGENT2.md`.**

- `AGENT2.md` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –∏—Å—Ç–∏–Ω—ã –¥–ª—è frontend.
- –õ—é–±–æ–µ UI-—Ä–µ—à–µ–Ω–∏–µ, –Ω–∞—Ä—É—à–∞—é—â–µ–µ `AGENT2.md`, —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äú—É–¥–æ–±–Ω–æ‚Äù.

---

### üîí Full-Stack Rule
–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **backend –∏ frontend –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**:

> **–°–ù–ê–ß–ê–õ–ê `AGENT1.md`, –ó–ê–¢–ï–ú `AGENT2.md`.**

Backend –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–º—ã—Å–ª –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.  
Frontend —Ç–æ–ª—å–∫–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç.

---

## 2. What System This Is (DO NOT MISUNDERSTAND)

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ ‚Äî **Execution Platform / Conveyor**.

- Backend ‚Äî **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π, —Å–ª–µ–ø–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä**
- –í—Å—è ‚Äú–ª–æ–≥–∏–∫–∞‚Äù –∏ ‚Äú—É–º‚Äù –Ω–∞—Ö–æ–¥—è—Ç—Å—è **—Å–Ω–∞—Ä—É–∂–∏** (executors, parsers, analytics)
- Backend **–ù–ï –ø–æ–Ω–∏–º–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä**
- Frontend **–ù–ï –ø–æ–Ω–∏–º–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏**
- –û–±—â–µ–Ω–∏–µ –∏–¥—ë—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ **–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã + capabilities**

–ï—Å–ª–∏ –∫–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç ‚Äú–∑–Ω–∞—Ç—å‚Äù, **–æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–∏ –¥–∞–Ω–Ω—ã–µ**, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ–º–∞–Ω–∞.

---

## 3. Core Invariants (MERGE-BLOCKING)

### ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û –í BACKEND CORE
- –õ—é–±—ã–µ vendor-–∏–º–µ–Ω–∞ (`autoRu`, `drom`, –∏ —Ç.–ø.) –≤—ã—à–µ adapters
- Vendor enums, vendor error codes, vendor branching
- –ò–º–ø–æ—Ä—Ç Real-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –≤ Domain –∏–ª–∏ Application
- ‚Äú–£–º–Ω–∞—è‚Äù –ª–æ–≥–∏–∫–∞ –≤ pipeline, workers –∏–ª–∏ core services
- –¢–∏—Ö–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è (pretend success)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `traceId`

---

### ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û –í FRONTEND
- `if (source === ...)` –∏–ª–∏ –ª—é–±—ã–µ vendor-–≤–µ—Ç–≤–ª–µ–Ω–∏—è
- –ü—Ä—è–º–æ–π `fetch/axios` –≤–Ω–µ –æ–±—â–µ–≥–æ API-–∫–ª–∏–µ–Ω—Ç–∞
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è executor-—Å–µ–º–∞–Ω—Ç–∏–∫–∏
- ‚Äú–£–≥–∞–¥—ã–≤–∞–Ω–∏–µ‚Äù —É—Å–ø–µ—Ö–∞
- –°–∫—Ä—ã—Ç–∏–µ –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ `traceId`

---

## 4. Extension Model (ONLY THIS WAY)

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ / –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –¢–æ–ª—å–∫–æ –∫–∞–∫ **integration plugin**
- Port + Adapter (Real / Fake / Fallback)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**
- **–ù–ï —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π core**

---

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ = executor
- –í—Ö–æ–¥: normalized data / assets
- –í—ã—Ö–æ–¥: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫
- UI –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `include / fields`

---

## 5. Fake / Fallback Rule (CRITICAL)

- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
  - **–ù–ï-effectful –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Üí Fake —Ä–∞–∑—Ä–µ—à—ë–Ω
  - **Effectful –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Üí Fake –∑–∞–ø—Ä–µ—â—ë–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `INTEGRATION_UNAVAILABLE`
- –ö–∞–∂–¥–æ–µ fallback-—Ä–µ—à–µ–Ω–∏–µ **–æ–±—è–∑–∞–Ω–æ –±—ã—Ç—å observable**
- –õ—é–±–∞—è –æ—à–∏–±–∫–∞ **–æ–±—è–∑–∞–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å `traceId`**

---

## 6. Contracts Over Code

- –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤–∞–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–æ–≤—ã–µ –ø–æ–ª—è ‚Äî —Ç–æ–ª—å–∫–æ optional
- –°–º—ã—Å–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π –º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- Backend –∏ Frontend –≥–æ–≤–æ—Ä—è—Ç **–æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–º —è–∑—ã–∫–æ–º**

---

## 7. Forbidden Patterns (INSTANT STOP)

–ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å –∏–ª–∏ —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-—Ç–æ –∏–∑ —ç—Ç–æ–≥–æ ‚Äî **–°–¢–û–ü**:

- ‚Äú–î–∞–≤–∞–π—Ç–µ —Ç—É—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫‚Äù
- ‚ÄúUI —Å–∞–º —Ä–∞–∑—Ä—É–ª–∏—Ç‚Äù
- ‚ÄúBackend –∑–Ω–∞–µ—Ç, —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞–¥–æ –≤–æ—Ç —Ç–∞–∫‚Äù
- ‚Äú–ü–æ—Ç–æ–º –ø–µ—Ä–µ–ø–∏—à–µ–º‚Äù
- ‚Äú–≠—Ç–æ edge case‚Äù

–õ—é–±–æ–π –∏–∑ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ = **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—à–∏–±–∫–∞**.

---

## 8. Codex Output Requirements

–õ—é–±–æ–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ **–û–ë–Ø–ó–ê–ù**:
- —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å `AGENT1.md` –∏–ª–∏ `AGENT2.md`
- —Å–æ–±–ª—é–¥–∞—Ç—å layering –∏ dependency direction
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å `traceId`
- –Ω–µ –≤–≤–æ–¥–∏—Ç—å vendor-—Å–º—ã—Å–ª

–ï—Å–ª–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî **Codex –û–ë–Ø–ó–ê–ù –û–°–¢–ê–ù–û–í–ò–¢–¨–°–Ø –∏ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º**.

---

## 9. Final Rule (NEVER FORGET)

> –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–æ–Ω–∏–º–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä ‚Äî  
> **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–∂–µ —Å–ª–æ–º–∞–Ω–∞.**

