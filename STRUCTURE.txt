вот так должно быть:
cabinet/
├─ .editorconfig
├─ .gitattributes
├─ .gitignore
├─ .env.example
├─ Makefile
├─ README.md
├─ SECURITY-IMPLEMENTATION.md
├─ HIERARCHY-GUIDE.md
├─ ENCRYPTION-SCHEME.md
├─ AGENT.md
│
├─ app/
│  ├─ backend/
│  │  ├─ README.md
│  │  ├─ public/
│  │  │  └─ index.php
│  │  ├─ src/
│  │  │  ├─ Bootstrap/
│  │  │  │  ├─ AppKernel.php
│  │  │  │  ├─ Container.php
│  │  │  │  ├─ Config.php
│  │  │  │  └─ Clock.php
│  │  │  │
│  │  │  ├─ Http/
│  │  │  │  ├─ Routes/
│  │  │  │  │  └─ api.php
│  │  │  │  │
│  │  │  │  ├─ Controllers/
│  │  │  │  │  ├─ AuthController.php
│  │  │  │  │  ├─ UsersController.php
│  │  │  │  │  ├─ TasksController.php
│  │  │  │  │  ├─ ParserController.php
│  │  │  │  │  ├─ PhotosController.php
│  │  │  │  │  ├─ PublishController.php
│  │  │  │  │  ├─ ExportController.php
│  │  │  │  │  ├─ AdminController.php
│  │  │  │  │  ├─ IntegrationsController.php
│  │  │  │  │  ├─ HealthController.php
│  │  │  │  │  ├─ SecurityController.php
│  │  │  │  │  └─ KeyExchangeController.php
│  │  │  │  │
│  │  │  │  ├─ Middleware/
│  │  │  │  │  ├─ CorsMiddleware.php
│  │  │  │  │  ├─ TraceIdMiddleware.php
│  │  │  │  │  ├─ JsonBodyMiddleware.php
│  │  │  │  │  ├─ BodySizeLimitMiddleware.php
│  │  │  │  │  ├─ WebhookAuthMiddleware.php
│  │  │  │  │  └─ ErrorHandlerMiddleware.php
│  │  │  │  │
│  │  │  │  ├─ Security/
│  │  │  │  │  ├─ Requirements/
│  │  │  │  │  │  ├─ RouteRequirements.php
│  │  │  │  │  │  ├─ RouteRequirementsMap.php
│  │  │  │  │  │  └─ EndpointRequirementsResolver.php
│  │  │  │  │  │
│  │  │  │  │  └─ Pipeline/
│  │  │  │  │     ├─ SecurityPipelineMiddleware.php
│  │  │  │  │     ├─ AuthStep.php
│  │  │  │  │     ├─ NonceStep.php
│  │  │  │  │     ├─ SignatureStep.php
│  │  │  │  │     ├─ EncryptionStep.php
│  │  │  │  │     ├─ ScopeStep.php
│  │  │  │  │     ├─ HierarchyStep.php
│  │  │  │  │     └─ RateLimitStep.php
│  │  │  │  │
│  │  │  │  ├─ Validation/
│  │  │  │  │  ├─ Request/
│  │  │  │  │  │  ├─ RequestSchemaValidator.php
│  │  │  │  │  │  ├─ IncludeFieldsValidator.php
│  │  │  │  │  │  └─ PaginationValidator.php
│  │  │  │  │  └─ Protocol/
│  │  │  │  │     ├─ IdempotencyKeyValidator.php
│  │  │  │  │     ├─ CommandStructureValidator.php
│  │  │  │  │     └─ NonceFormatValidator.php
│  │  │  │  │
│  │  │  │  └─ Responses/
│  │  │  │     ├─ ApiResponse.php
│  │  │  │     ├─ ApiErrorMapper.php
│  │  │  │     └─ ProblemDetails.php
│  │  │  │
│  │  │  ├─ Domain/
│  │  │  │  ├─ Shared/
│  │  │  │  │  ├─ Enum/
│  │  │  │  │  │  ├─ TaskStatus.php
│  │  │  │  │  │  └─ UserRole.php
│  │  │  │  │  ├─ ValueObject/
│  │  │  │  │  │  ├─ Ulid.php
│  │  │  │  │  │  ├─ Email.php
│  │  │  │  │  │  ├─ Nonce.php
│  │  │  │  │  │  └─ EncryptedPayload.php
│  │  │  │  │  └─ Exceptions/
│  │  │  │  │     ├─ DomainException.php
│  │  │  │  │     ├─ InvariantViolation.php
│  │  │  │  │     ├─ SecurityException.php
│  │  │  │  │     └─ NonceReuseException.php
│  │  │  │  │
│  │  │  │  ├─ Tasks/
│  │  │  │  │  ├─ Task.php
│  │  │  │  │  ├─ TaskId.php
│  │  │  │  │  ├─ TaskSnapshot.php
│  │  │  │  │  └─ TaskInvariants.php
│  │  │  │  │
│  │  │  │  ├─ Users/
│  │  │  │  │  ├─ User.php
│  │  │  │  │  ├─ UserId.php
│  │  │  │  │  ├─ AccessRole.php
│  │  │  │  │  ├─ UserHierarchy.php
│  │  │  │  │  ├─ PermissionMatrix.php
│  │  │  │  │  └─ AccessScope.php
│  │  │  │  │
│  │  │  │  └─ Pipeline/
│  │  │  │     ├─ Stage.php
│  │  │  │     ├─ PipelineState.php
│  │  │  │     └─ StageTransitionRules.php
│  │  │  │
│  │  │  ├─ Application/
│  │  │  │  ├─ README.md
│  │  │  │  ├─ Policies/
│  │  │  │  │  ├─ DegradePolicy.php
│  │  │  │  │  ├─ RateLimitPolicy.php
│  │  │  │  │  ├─ AccessPolicy.php
│  │  │  │  │  ├─ LimitsPolicy.php
│  │  │  │  │  ├─ HierarchyPolicy.php
│  │  │  │  │  ├─ NoncePolicy.php
│  │  │  │  │  ├─ SignaturePolicy.php
│  │  │  │  │  └─ DataMinimizationPolicy.php
│  │  │  │  │
│  │  │  │  ├─ Preconditions/
│  │  │  │  │  ├─ StageGuard.php
│  │  │  │  │  ├─ AssetRefGuard.php
│  │  │  │  │  ├─ UrlGuard.php
│  │  │  │  │  ├─ PayloadSizeGuard.php
│  │  │  │  │  ├─ CommandGuard.php
│  │  │  │  │  └─ DataPrivacyGuard.php
│  │  │  │  │
│  │  │  │  ├─ Security/
│  │  │  │  │  ├─ Nonce/
│  │  │  │  │  │  ├─ NonceServiceInterface.php
│  │  │  │  │  │  └─ NonceRepositoryInterface.php
│  │  │  │  │  ├─ Keys/
│  │  │  │  │  │  ├─ KeyServiceInterface.php
│  │  │  │  │  │  └─ SessionKeyExchange.php
│  │  │  │  │  ├─ Signatures/
│  │  │  │  │  │  └─ SignatureServiceInterface.php
│  │  │  │  │  └─ Encryption/
│  │  │  │  │     └─ EncryptionServiceInterface.php
│  │  │  │  │
│  │  │  │  ├─ Integrations/
│  │  │  │  │  ├─ Robot/
│  │  │  │  │  │  └─ RobotPort.php
│  │  │  │  │  ├─ BrowserContext/
│  │  │  │  │  │  └─ BrowserContextPort.php
│  │  │  │  │  ├─ Parser/
│  │  │  │  │  │  └─ ParserPort.php
│  │  │  │  │  ├─ PhotoProcessor/
│  │  │  │  │  │  └─ PhotoProcessorPort.php
│  │  │  │  │  └─ Storage/
│  │  │  │  │     └─ StoragePort.php
│  │  │  │  │
│  │  │  │  ├─ Commands/
│  │  │  │  │  ├─ Auth/
│  │  │  │  │  │  ├─ LoginCommand.php
│  │  │  │  │  │  ├─ RefreshTokenCommand.php
│  │  │  │  │  │  └─ LogoutCommand.php
│  │  │  │  │  ├─ Tasks/
│  │  │  │  │  │  ├─ CreateTaskCommand.php
│  │  │  │  │  │  ├─ UpdateTaskCommand.php
│  │  │  │  │  │  ├─ DeleteTaskCommand.php
│  │  │  │  │  │  ├─ TriggerParseCommand.php
│  │  │  │  │  │  ├─ TriggerPhotosCommand.php
│  │  │  │  │  │  └─ TriggerPublishCommand.php
│  │  │  │  │  └─ Admin/
│  │  │  │  │     ├─ RetryJobCommand.php
│  │  │  │  │     ├─ CancelJobCommand.php
│  │  │  │  │     └─ ForceCleanupCommand.php
│  │  │  │  │
│  │  │  │  ├─ Queries/
│  │  │  │  │  ├─ Tasks/
│  │  │  │  │  │  ├─ GetTaskQuery.php
│  │  │  │  │  │  ├─ ListTasksQuery.php
│  │  │  │  │  │  └─ TaskReadModelBuilder.php
│  │  │  │  │  ├─ Admin/
│  │  │  │  │  │  ├─ GetQueuesQuery.php
│  │  │  │  │  │  ├─ GetDlqQuery.php
│  │  │  │  │  │  └─ GetAuditQuery.php
│  │  │  │  │  ├─ Integrations/
│  │  │  │  │  │  ├─ GetIntegrationsStatusQuery.php
│  │  │  │  │  │  └─ GetCapabilitiesQuery.php
│  │  │  │  │  └─ Security/
│  │  │  │  │     ├─ GetSecurityEventsQuery.php
│  │  │  │  │     ├─ GetNonceUsageQuery.php
│  │  │  │  │     └─ GetSignatureAuditQuery.php
│  │  │  │  │
│  │  │  │  ├─ Pipeline/
│  │  │  │  │  ├─ README.md
│  │  │  │  │  ├─ Jobs/
│  │  │  │  │  │  ├─ Job.php
│  │  │  │  │  │  ├─ JobType.php
│  │  │  │  │  │  └─ JobPayload.php
│  │  │  │  │  ├─ Retry/
│  │  │  │  │  │  ├─ RetryPolicy.php
│  │  │  │  │  │  ├─ RetryDecision.php
│  │  │  │  │  │  └─ ErrorClassifier.php
│  │  │  │  │  ├─ Idempotency/
│  │  │  │  │  │  ├─ IdempotencyKey.php
│  │  │  │  │  │  ├─ IdempotencyStore.php
│  │  │  │  │  │  └─ IdempotencyService.php
│  │  │  │  │  ├─ Locks/
│  │  │  │  │  │  ├─ LockService.php
│  │  │  │  │  │  └─ LockKey.php
│  │  │  │  │  ├─ Drivers/
│  │  │  │  │  │  ├─ StageDriverInterface.php
│  │  │  │  │  │  ├─ ParserDriver.php
│  │  │  │  │  │  ├─ PhotosDriver.php
│  │  │  │  │  │  ├─ PublishDriver.php
│  │  │  │  │  │  ├─ ExportDriver.php
│  │  │  │  │  │  └─ CleanupDriver.php
│  │  │  │  │  ├─ Workers/
│  │  │  │  │  │  ├─ WorkerDaemon.php
│  │  │  │  │  │  ├─ ParserWorker.php
│  │  │  │  │  │  ├─ PhotosWorker.php
│  │  │  │  │  │  ├─ ExportWorker.php
│  │  │  │  │  │  ├─ PublishWorker.php
│  │  │  │  │  │  └─ RobotStatusWorker.php
│  │  │  │  │  └─ Events/
│  │  │  │  │     ├─ PipelineEvent.php
│  │  │  │  │     └─ EventEmitter.php
│  │  │  │  │
│  │  │  │  └─ Services/
│  │  │  │     ├─ AuthService.php
│  │  │  │     ├─ UsersService.php
│  │  │  │     ├─ TasksService.php
│  │  │  │     ├─ AdminService.php
│  │  │  │     ├─ CapabilitiesService.php
│  │  │  │     ├─ IntegrationsStatusService.php
│  │  │  │     ├─ SecurityService.php
│  │  │  │     ├─ NonceService.php
│  │  │  │     ├─ SignatureService.php
│  │  │  │     ├─ KeyService.php
│  │  │  │     ├─ KeyRotationOrchestrator.php
│  │  │  │     └─ EncryptionService.php
│  │  │  │
│  │  │  └─ Infrastructure/
│  │  │     ├─ README.md
│  │  │     ├─ Persistence/
│  │  │     │  └─ PDO/
│  │  │     │     ├─ ConnectionFactory.php
│  │  │     │     ├─ MigrationsRunner.php
│  │  │     │     └─ Repositories/
│  │  │     │        ├─ TasksRepository.php
│  │  │     │        ├─ UsersRepository.php
│  │  │     │        ├─ QueueRepository.php
│  │  │     │        ├─ DlqRepository.php
│  │  │     │        ├─ AuditRepository.php
│  │  │     │        ├─ IdempotencyRepository.php
│  │  │     │        ├─ LockRepository.php
│  │  │     │        ├─ NonceRepository.php
│  │  │     │        └─ SecurityEventRepository.php
│  │  │     │
│  │  │     ├─ Cache/
│  │  │     │  ├─ RedisCache.php
│  │  │     │  ├─ CacheWarmer.php
│  │  │     │  └─ QueryCache.php
│  │  │     │
│  │  │     ├─ ReadModels/
│  │  │     │  ├─ TaskReadModel.php
│  │  │     │  └─ Projections/
│  │  │     │     ├─ TaskProjection.php
│  │  │     │     └─ SecurityProjection.php
│  │  │     │
│  │  │     ├─ Queue/
│  │  │     │  ├─ QueueService.php
│  │  │     │  ├─ DlqService.php
│  │  │     │  └─ QueueMetrics.php
│  │  │     │
│  │  │     ├─ Ws/
│  │  │     │  ├─ WsServer.php
│  │  │     │  └─ WsEmitter.php
│  │  │     │
│  │  │     ├─ Observability/
│  │  │     │  ├─ Tracing/
│  │  │     │  │  ├─ Tracer.php
│  │  │     │  │  └─ OpenTelemetryAdapter.php
│  │  │     │  ├─ Metrics/
│  │  │     │  │  ├─ PrometheusMetrics.php
│  │  │     │  │  ├─ BusinessMetrics.php
│  │  │     │  │  └─ exporters/
│  │  │     │  │     └─ PrometheusExporter.php
│  │  │     │  ├─ Logging/
│  │  │     │  │  ├─ StructuredLogger.php
│  │  │     │  │  ├─ DbLogger.php
│  │  │     │  │  ├─ Redactor.php
│  │  │     │  │  ├─ SentryLogger.php
│  │  │     │  │  └─ SecureLogger.php
│  │  │     │  ├─ Audit/
│  │  │     │  │  └─ AuditService.php
│  │  │     │  └─ Health/
│  │  │     │     ├─ HealthChecker.php
│  │  │     │     ├─ DatabaseHealthCheck.php
│  │  │     │     ├─ RedisHealthCheck.php
│  │  │     │     └─ health.php
│  │  │     │
│  │  │     ├─ Security/
│  │  │     │  ├─ README.md
│  │  │     │  ├─ Encryption/
│  │  │     │  │  ├─ DataEncryption.php
│  │  │     │  │  ├─ AsymmetricEncryption.php
│  │  │     │  │  ├─ SymmetricEncryption.php
│  │  │     │  │  ├─ HybridEncryption.php
│  │  │     │  │  └─ EncryptionEnforcer.php
│  │  │     │  ├─ Signatures/
│  │  │     │  │  ├─ SignatureCanonicalizer.php
│  │  │     │  │  ├─ StringToSignBuilder.php
│  │  │     │  │  └─ SignatureVerifier.php
│  │  │     │  ├─ Keys/
│  │  │     │  │  ├─ KeyStore.php
│  │  │     │  │  ├─ KeyVersionManager.php
│  │  │     │  │  ├─ KeyRotationEngine.php
│  │  │     │  │  ├─ SessionKeyExchangeEngine.php
│  │  │     │  │  └─ KeyManagement.php
│  │  │     │  ├─ Audit/
│  │  │     │  │  ├─ SecurityAuditService.php
│  │  │     │  │  └─ SensitiveDataLogger.php
│  │  │     │  ├─ AttackProtection/
│  │  │     │  │  ├─ RateLimiter.php
│  │  │     │  │  ├─ SQLInjectionProtection.php
│  │  │     │  │  └─ XSSProtection.php
│  │  │     │  ├─ Identity/
│  │  │     │  │  ├─ JwtIssuer.php
│  │  │     │  │  ├─ JwtVerifier.php
│  │  │     │  │  └─ TwoFactorAuth.php
│  │  │     │  ├─ Certificates/
│  │  │     │  │  ├─ CertificateManager.php
│  │  │     │  │  ├─ AdapterCertificate.php
│  │  │     │  │  └─ CertificateValidator.php
│  │  │     │  ├─ Nonce/
│  │  │     │  │  ├─ NonceValidator.php
│  │  │     │  │  └─ _internal/
│  │  │     │  │     ├─ AtomicNonceStore.php
│  │  │     │  │     ├─ NonceCleanupRunner.php
│  │  │     │  │     └─ NonceLockKey.php
│  │  │     │  └─ Vault/
│  │  │     │     ├─ VaultClient.php
│  │  │     │     ├─ SecretInjector.php
│  │  │     │     └─ PolicyManager.php
│  │  │     │
│  │  │     ├─ Integrations/
│  │  │     │  ├─ README.md
│  │  │     │  ├─ Shared/
│  │  │     │  │  ├─ HttpClient.php
│  │  │     │  │  ├─ ContractValidator.php
│  │  │     │  │  ├─ Headers.php
│  │  │     │  │  ├─ HealthCache.php
│  │  │     │  │  ├─ CircuitBreaker.php
│  │  │     │  │  ├─ FallbackPort.php
│  │  │     │  │  ├─ ConfigGuard.php
│  │  │     │  │  ├─ ErrorMapper.php
│  │  │     │  │  ├─ IntegrationException.php
│  │  │     │  │  ├─ SignedRequest.php
│  │  │     │  │  ├─ NonceGenerator.php
│  │  │     │  │  └─ EncryptionWrapper.php
│  │  │     │  ├─ Registry/
│  │  │     │  │  ├─ IntegrationDescriptorInterface.php
│  │  │     │  │  ├─ IntegrationRegistry.php
│  │  │     │  │  └─ CertificateRegistry.php
│  │  │     │  ├─ Robot/
│  │  │     │  │  ├─ RobotIntegration.php
│  │  │     │  │  ├─ Real/
│  │  │     │  │  │  ├─ RobotHttpAdapter.php
│  │  │     │  │  │  ├─ RobotMessages.php
│  │  │     │  │  │  └─ RobotWebhookHandler.php
│  │  │     │  │  └─ Fallback/
│  │  │     │  │     ├─ FallbackRobotAdapter.php
│  │  │     │  │     └─ FallbackRobotScenario.php
│  │  │     │  ├─ BrowserContext/
│  │  │     │  │  ├─ BrowserContextIntegration.php
│  │  │     │  │  ├─ Real/
│  │  │     │  │  │  └─ BrowserContextHttpAdapter.php
│  │  │     │  │  └─ Fallback/
│  │  │     │  │     ├─ FallbackBrowserContextAdapter.php
│  │  │     │  │     └─ FallbackBrowserContextPool.php
│  │  │     │  ├─ Parser/
│  │  │     │  │  ├─ ParserIntegration.php
│  │  │     │  │  ├─ Real/
│  │  │     │  │  │  └─ ParserHttpAdapter.php
│  │  │     │  │  └─ Fallback/
│  │  │     │  │     ├─ FallbackParserAdapter.php
│  │  │     │  │     └─ FallbackParserFixtures.php
│  │  │     │  ├─ PhotoProcessor/
│  │  │     │  │  ├─ PhotoProcessorIntegration.php
│  │  │     │  │  ├─ Real/
│  │  │     │  │  │  └─ PhotoProcessorHttpAdapter.php
│  │  │     │  │  └─ Fallback/
│  │  │     │  │     ├─ FallbackPhotoProcessorAdapter.php
│  │  │     │  │     └─ FallbackPhotoPipeline.php
│  │  │     │  └─ Storage/
│  │  │     │     ├─ StorageIntegration.php
│  │  │     │     ├─ Real/
│  │  │     │     │  └─ S3StorageAdapter.php
│  │  │     │     └─ Fallback/
│  │  │     │        ├─ FallbackStorageAdapter.php
│  │  │     │        └─ FallbackStorageFs.php
│  │  │     │
│  │  │     └─ BackgroundTasks/
│  │  │        ├─ QueueOptimizer.php
│  │  │        ├─ OldDataCleaner.php
│  │  │        ├─ NonceCleanupJob.php
│  │  │        ├─ KeyRotationJob.php
│  │  │        └─ KeyRotator.php
│  │  │
│  │  ├─ tests/
│  │  │  ├─ Unit/
│  │  │  │  ├─ Architecture/
│  │  │  │  │  ├─ BoundariesTest.php
│  │  │  │  │  ├─ ContractParityTest.php
│  │  │  │  │  ├─ IncludeFieldsLimitsTest.php
│  │  │  │  │  ├─ NonceInternalSealedTest.php
│  │  │  │  │  └─ SingleNonceRepositoryImplementationTest.php
│  │  │  │  ├─ Pipeline/
│  │  │  │  ├─ Integrations/
│  │  │  │  ├─ Security/
│  │  │  │  └─ Domain/
│  │  │  └─ Feature/
│  │  │
│  └─ frontend/
│     ├─ README.md
│     └─ src/
│        ├─ app/
│        ├─ shared/
│        │  ├─ api/
│        │  │  ├─ client.ts
│        │  │  ├─ endpoints.ts
│        │  │  ├─ errors.ts
│        │  │  ├─ includeFields.ts
│        │  │  └─ generated/
│        │  │     ├─ openapi-parity.test.ts
│        │  │     └─ README.md
│        │  ├─ runtime/
│        │  │  └─ security/
│        │  │     ├─ index.ts
│        │  │     ├─ canonicalizer.ts
│        │  │     ├─ nonce.ts
│        │  │     ├─ signature.ts
│        │  │     ├─ encryption.ts
│        │  │     ├─ keyExchange.ts
│        │  │     └─ keyStore.ts
│        │  ├─ access/
│        │  ├─ auth/
│        │  ├─ trace/
│        │  ├─ ws/
│        │  ├─ security/
│        │  └─ ui/
│        ├─ entities/
│        ├─ features/
│        ├─ pages/
│        └─ tests/
│
├─ platform/
├─ automation/
├─ tests/
│  ├─ integration/
│  ├─ e2e/
│  └─ security/
│
├─ security/
│  └─ README.md
│
├─ shared/
│  ├─ contracts/
│  │  ├─ README.md
│  │  ├─ primitives/
│  │  │  ├─ Status.md
│  │  │  ├─ ErrorKind.md
│  │  │  ├─ TraceContext.md
│  │  │  ├─ CapabilitySet.md
│  │  │  └─ AssetRef.md
│  │  ├─ vectors/
│  │  │  ├─ nonce-vectors.json
│  │  │  ├─ signature-vectors.json
│  │  │  └─ encryption-vectors.json
│  │  └─ implementations/
│  │     ├─ php/
│  │     │  ├─ Status.php
│  │     │  ├─ Error.php
│  │     │  ├─ ErrorKind.php
│  │     │  ├─ AssetRef.php
│  │     │  ├─ IntegrationHealth.php
│  │     │  ├─ CapabilitySet.php
│  │     │  └─ TraceContext.php
│  │     └─ typescript/
│  │        ├─ status.ts
│  │        ├─ errorKind.ts
│  │        ├─ assetRef.ts
│  │        ├─ capabilitySet.ts
│  │        └─ traceContext.ts
│  ├─ canonicalization/
│  └─ crypto/
│
├─ docs/
│  └─ README.md
│
├─ config/
├─ scripts/
├─ tools/
├─ dev/
├─ governance/
├─ .husky/
├─ phpmd.xml
├─ phpcs.xml
├─ psalm.xml
├─ phpstan.neon
├─ eslint.config.js
├─ stylelint.config.js
├─ commitlint.config.js
├─ security-rules.xml
├─ package.json
├─ composer.json
└─ docker-compose.yml


вот так должно быть. опиши все отличия от структуры. и напиши что нужно и куда переставить. где добавить и т.п.

